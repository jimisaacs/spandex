# HTML Regression Scenarios

## Test: Origin Excluded

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">7</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">7</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-2</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">-3</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">-2</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">-1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table></div>

---

## Test: Origin Included

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">4</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">5</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">6</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">7</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">4</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">5</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">6</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">7</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">-3</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">-2</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">-1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr></tbody></table></div>

---

## Test: Infinity Edges (all directions)

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">T</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #55ff55 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">R</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: linear-gradient(to bottom, #5555ff 60%, transparent 100%); color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: linear-gradient(to left, #ffff55 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">L</span></td></tr></tbody></table></div>

---

## Test: Infinity Corners

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: radial-gradient(ellipse at 100% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">1</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 100%, #55ff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">2</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: radial-gradient(ellipse at 100% 0%, #5555ff 50%, transparent 100%); color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">3</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px solid #ffffff; border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 0%, #ffff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">4</span></td></tr></tbody></table></div>

---

## Test: Infinity Bands (3 edges)

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 50% 100%, #ff5555 30%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top and bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: radial-gradient(ellipse at 100% 50%, #55ff55 30%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">V</span></td></tr></tbody></table></div>

---

## Test: Data Density Variations

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">4</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">5</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">6</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">3</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table></div>

---

## Test: Partitioned Index - Multiple attributes

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr></tbody></table></div>

---

## Test: Partitioned Index - Attribute override

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">5</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">5</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td></tr></tbody></table></div>

---

## Test: Cross Formation (LWW decomposition)

<div style="display: flex; gap: 20px; align-items: flex-start;"><div class="spatial-index-grid" style="padding: 20px; text-align: center; color: #d8dce0;">Empty index</div><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, transparent 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;"></span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top and bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to bottom, transparent 0%, #55ff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">V</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><div style="margin: 0 10px 10px 10px; font-size: 10px; color: #999; font-family: sans-serif; font-style: italic;">Unbounded in all directions</div></div>

---

## Test: Global Override Evolution

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top and bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(circle at center, #ff5555 25%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr></tbody></table><div style="margin: 0 10px 10px 10px; font-size: 10px; color: #999; font-family: sans-serif; font-style: italic;">Unbounded in all directions</div><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;"></span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: radial-gradient(ellipse at 100% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">+</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: radial-gradient(ellipse at 100% 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr></tbody></table><div style="margin: 0 10px 10px 10px; font-size: 10px; color: #999; font-family: sans-serif; font-style: italic;">Unbounded in all directions</div><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;"></span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">-1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: radial-gradient(ellipse at 100% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">-2</th><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">-</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px dotted rgba(255, 255, 255, 0.6); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">-1</th><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px dotted rgba(255, 255, 255, 0.6); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px dotted rgba(255, 255, 255, 0.6); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px dotted rgba(255, 255, 255, 0.6); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px solid #ffffff; background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px dotted rgba(255, 255, 255, 0.6); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">+</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(255, 255, 255, 0.6); border-left: 1px solid #ffffff; border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: radial-gradient(ellipse at 100% 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(255, 255, 255, 0.6); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">G</span></td></tr></tbody></table><div style="margin: 0 10px 10px 10px; font-size: 10px; color: #999; font-family: sans-serif; font-style: italic;">Unbounded in all directions</div></div>

---

## Test: Overlap Decomposition (fragments)

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">2</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table></div>

---

## Test: Empty Index

<div style="display: flex; gap: 20px; align-items: flex-start;"><div class="spatial-index-grid" style="padding: 20px; text-align: center; color: #d8dce0;">Empty index</div></div>

---

## Test: All Infinity (no finite data)

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top and bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(circle at center, #ff5555 25%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;"></span></td></tr></tbody></table><div style="margin: 0 10px 10px 10px; font-size: 10px; color: #999; font-family: sans-serif; font-style: italic;">Unbounded in all directions</div><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top and bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(circle at center, #ff5555 25%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;"></span></td></tr></tbody></table><div style="margin: 0 10px 10px 10px; font-size: 10px; color: #999; font-family: sans-serif; font-style: italic;">Unbounded in all directions</div></div>

---

## Test: Two-state progression

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, transparent 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;"></span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top and bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to bottom, transparent 0%, #55ff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">V</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><div style="margin: 0 10px 10px 10px; font-size: 10px; color: #999; font-family: sans-serif; font-style: italic;">Unbounded in all directions</div></div>

---

## Test: Three-state progression with empty state

<div style="display: flex; gap: 20px; align-items: flex-start;"><div class="spatial-index-grid" style="padding: 20px; text-align: center; color: #d8dce0;">Empty index</div><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">1</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, transparent 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;"></span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;"></span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300" title="Extends to top and bottom infinity"><span style="font-size: 14px;"></span></th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(255, 255, 255, 0.6); background: linear-gradient(to bottom, transparent 0%, #55ff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; top: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; bottom: 2px; left: 50%; transform: translateX(-50%);"></span><span style="position: relative; z-index: 1;">V</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px dotted rgba(255, 255, 255, 0.6); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: absolute; color: black; font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);"></span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><div style="margin: 0 10px 10px 10px; font-size: 10px; color: #999; font-family: sans-serif; font-style: italic;">Unbounded in all directions</div></div>

---

## Test: Custom spacing between grids

<div style="display: flex; gap: 5px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">Y</span></td></tr></tbody></table></div>

---

## Test: Independent states (non-cumulative)

<div style="display: flex; gap: 5px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px;"><thead><tr><th style="border: none;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300; min-width: 40px">1</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: #999; font-weight: 300">0</th><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid #ffffff; border-bottom: 1px solid #ffffff; border-left: 1px solid #ffffff; border-right: 1px solid #ffffff; background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table></div>
