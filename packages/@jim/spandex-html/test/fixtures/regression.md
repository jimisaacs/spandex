# HTML Regression Scenarios

## Test: Overlap Decomposition (fragments)

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">A</code> = <code style="background: none; padding: 0; color: inherit;">A</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">B</code> = <code style="background: none; padding: 0; color: inherit;">B</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #5555ff; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">C</code> = <code style="background: none; padding: 0; color: inherit;">C</code></div>

---

## Test: Cross Formation (LWW decomposition)

<div style="display: flex; gap: 20px; align-items: flex-start;"><div class="spatial-index-grid" style="padding: 20px; text-align: center; color: light-dark(#d8dce0, #2a2a2a);">Empty index</div><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, transparent 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;">∞</span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top and bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">H</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, transparent 0%, #55ff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">V</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">H</code> = <code style="background: none; padding: 0; color: inherit;">H</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">V</code> = <code style="background: none; padding: 0; color: inherit;">V</code></div>

---

## Test: Data Density Variations

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">A</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">4</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">5</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">6</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">C</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">3</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff55ff; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">X</code> = <code style="background: none; padding: 0; color: inherit;">X</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">A</code> = <code style="background: none; padding: 0; color: inherit;">A</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #5555ff; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">B</code> = <code style="background: none; padding: 0; color: inherit;">B</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #ffff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">C</code> = <code style="background: none; padding: 0; color: inherit;">C</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #ff55ff; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">D</code> = <code style="background: none; padding: 0; color: inherit;">D</code></div>

---

## Test: Partitioned Index - Multiple attributes

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ffff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">F</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">B</code> = <code style="background: none; padding: 0; color: inherit;">{&quot;bg&quot;:&quot;BACK&quot;}</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">F</code> = <code style="background: none; padding: 0; color: inherit;">{&quot;fg&quot;:&quot;FORE&quot;}</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #5555ff; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">X</code> = <code style="background: none; padding: 0; color: inherit;">{&quot;bg&quot;:&quot;BACK&quot;,&quot;fg&quot;:&quot;FORE&quot;}</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #ffff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">D</code> = <code style="background: none; padding: 0; color: inherit;">{&quot;bg&quot;:&quot;DARK&quot;,&quot;fg&quot;:&quot;FORE&quot;}</code></div>

---

## Test: Partitioned Index - Attribute override

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">5</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">5</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">R</code> = <code style="background: none; padding: 0; color: inherit;">{&quot;color&quot;:&quot;RED&quot;}</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">B</code> = <code style="background: none; padding: 0; color: inherit;">{&quot;color&quot;:&quot;BLUE&quot;}</code></div>

---

## Test: Global Override Evolution

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top and bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(circle at center, #ff5555 25%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;">∞</span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: radial-gradient(ellipse at 100% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">+</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: radial-gradient(ellipse at 100% 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;">∞</span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: radial-gradient(ellipse at 100% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">-2</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #5555ff; color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">-</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">-1</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">+</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: radial-gradient(ellipse at 100% 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">G</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">G</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">G</code> = <code style="background: none; padding: 0; color: inherit;">GLOBAL</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">+</code> = <code style="background: none; padding: 0; color: inherit;">LOCAL+</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #5555ff; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">-</code> = <code style="background: none; padding: 0; color: inherit;">LOCAL-</code></div>

---

## Test: Origin Excluded

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">7</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">7</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-2</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">-3</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">-2</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">-1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">D</code> = <code style="background: none; padding: 0; color: inherit;">DATA</code></div>

---

## Test: Origin Included

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">4</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">5</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">6</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">7</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">6</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">2</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">3</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">4</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">5</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">6</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">7</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-5</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-4</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-3</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-2</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">-1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">-3</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">-2</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">-1</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">D</span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td><td style="position: relative; border: 1px dotted rgba(180, 180, 180, 0.1); background: transparent; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;"></span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">D</code> = <code style="background: none; padding: 0; color: inherit;">DATA</code></div>

---

## Test: Infinity Edges (all directions)

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to top, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: relative; z-index: 1;">T</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #55ff55 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">R</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, #5555ff 60%, transparent 100%); color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ffff55 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">L</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">T</code> = <code style="background: none; padding: 0; color: inherit;">TOP</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">R</code> = <code style="background: none; padding: 0; color: inherit;">RIGHT</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #5555ff; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">B</code> = <code style="background: none; padding: 0; color: inherit;">BOTTOM</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #ffff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">L</code> = <code style="background: none; padding: 0; color: inherit;">LEFT</code></div>

---

## Test: Infinity Corners

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: radial-gradient(ellipse at 100% 100%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">1</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 100%, #55ff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">2</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: radial-gradient(ellipse at 100% 0%, #5555ff 50%, transparent 100%); color: #fff; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">3</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 0% 0%, #ffff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">4</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">1</code> = <code style="background: none; padding: 0; color: inherit;">TOP-LEFT</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">2</code> = <code style="background: none; padding: 0; color: inherit;">TOP-RIGHT</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #5555ff; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">3</code> = <code style="background: none; padding: 0; color: inherit;">BOTTOM-LEFT</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #ffff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">4</code> = <code style="background: none; padding: 0; color: inherit;">BOTTOM-RIGHT</code></div>

---

## Test: Infinity Bands (3 edges)

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(ellipse at 50% 100%, #ff5555 30%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top and bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: radial-gradient(ellipse at 100% 50%, #55ff55 30%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">V</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">H</code> = <code style="background: none; padding: 0; color: inherit;">HBAND</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">V</code> = <code style="background: none; padding: 0; color: inherit;">VBAND</code></div>

---

## Test: Empty Index

<div style="display: flex; gap: 20px; align-items: flex-start;"><div class="spatial-index-grid" style="padding: 20px; text-align: center; color: light-dark(#d8dce0, #2a2a2a);">Empty index</div></div>

---

## Test: All Infinity (no finite data)

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top and bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(circle at center, #ff5555 25%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">∞</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top and bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: radial-gradient(circle at center, #ff5555 25%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">∞</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">∞</code> = <code style="background: none; padding: 0; color: inherit;">EVERYWHERE</code></div>

---

## Test: Two-state progression

<div style="display: flex; gap: 20px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, transparent 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;">∞</span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top and bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">H</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, transparent 0%, #55ff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">V</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">H</code> = <code style="background: none; padding: 0; color: inherit;">HORIZONTAL</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">V</code> = <code style="background: none; padding: 0; color: inherit;">VERTICAL</code></div>

---

## Test: Three-state progression with empty state

<div style="display: flex; gap: 20px; align-items: flex-start;"><div class="spatial-index-grid" style="padding: 20px; text-align: center; color: light-dark(#d8dce0, #2a2a2a);">Empty index</div><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left and right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">1</th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, transparent 0%, #ff5555 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to left infinity"><span style="font-size: 14px;">∞</span></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px" title="Extends to right infinity"><span style="font-size: 14px;">∞</span></th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px" title="Extends to top and bottom infinity"><span style="font-size: 14px;">∞</span></th><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted rgba(180, 180, 180, 0.1); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to left, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; left: 2px; top: 50%; transform: translateY(-50%);">⇠</span><span style="position: relative; z-index: 1;">H</span></td><td style="position: relative; border-top: 1px dotted rgba(180, 180, 180, 0.1); border-bottom: 1px dotted rgba(180, 180, 180, 0.1); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); background: linear-gradient(to bottom, transparent 0%, #55ff55 50%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; top: -1px; left: 50%; transform: translateX(-50%);">⇡</span><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; bottom: -1px; left: 50%; transform: translateX(-50%);">⇣</span><span style="position: relative; z-index: 1;">V</span></td><td style="position: relative; border-top: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-bottom: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-left: 1px dotted light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6)); border-right: 1px dotted rgba(180, 180, 180, 0.1); background: linear-gradient(to right, #ff5555 60%, transparent 100%); color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: absolute; color: light-dark(black, white); font-size: 10px; font-weight: bold; right: 2px; top: 50%; transform: translateY(-50%);">⇢</span><span style="position: relative; z-index: 1;">H</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">H</code> = <code style="background: none; padding: 0; color: inherit;">HORIZONTAL</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">V</code> = <code style="background: none; padding: 0; color: inherit;">VERTICAL</code></div>

---

## Test: Custom spacing between grids

<div style="display: flex; gap: 5px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">X</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">Y</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">X</code> = <code style="background: none; padding: 0; color: inherit;">X</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">Y</code> = <code style="background: none; padding: 0; color: inherit;">Y</code></div>

---

## Test: Independent states (non-cumulative)

<div style="display: flex; gap: 5px; align-items: flex-start;"><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #ff5555; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">R</span></td></tr></tbody></table><table class="spatial-index-grid" style="border-collapse: collapse; font-family: monospace; margin: 10px; width: auto; table-layout: fixed; color-scheme: light dark;"><thead><tr><th style="border: none; width: auto; min-width: 0;"></th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">0</th><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; width: 40px; min-width: 40px; max-width: 40px">1</th></tr></thead><tbody><tr><th style="border: none; padding: 4px; text-align: center; font-size: 10px; color: light-dark(#999, #888); font-weight: 300; height: 40px; min-height: 40px; max-height: 40px">0</th><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td><td style="position: relative; border-top: 1px solid light-dark(#000000, #ffffff); border-bottom: 1px solid light-dark(#000000, #ffffff); border-left: 1px solid light-dark(#000000, #ffffff); border-right: 1px solid light-dark(#000000, #ffffff); background: #55ff55; color: #000; text-align: center; vertical-align: middle; width: 40px; height: 40px; min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px; font-size: 12px"><span style="position: relative; z-index: 1;">B</span></td></tr></tbody></table></div><div style="margin: 0 10px 10px 10px; font-size: 10px; color: light-dark(#666, #999); font-family: monospace; line-height: 1.8; color-scheme: light dark;"><span style="display: inline-block; width: 12px; height: 12px; background: #ff5555; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">R</code> = <code style="background: none; padding: 0; color: inherit;">RED</code><br><span style="display: inline-block; width: 12px; height: 12px; background: #55ff55; border: 1px solid rgba(0,0,0,0.2); margin-right: 6px; vertical-align: middle;"></span><code style="background: none; padding: 0; color: inherit;">B</code> = <code style="background: none; padding: 0; color: inherit;">BLUE</code></div>
