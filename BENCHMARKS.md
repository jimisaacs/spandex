<!-- GENERATED FILE - DO NOT EDIT MANUALLY -->
<!-- This file is automatically generated by scripts/update-benchmarks.ts -->
<!-- Run 'deno task bench:update' to regenerate -->

# Benchmark Results

> Last updated: 2025-10-27 | Deno 2.5.4
>
> **⚠️ Note**: These benchmarks run in GitHub Actions CI (shared runners). Results show relative performance
> but may have high variability (CV% >20%). For research-grade measurements, run on dedicated hardware.

## Performance Comparison

Comparing **O(n) linear scan** vs **O(log n) R-tree** across:

- **Data sizes**: Sparse (n < 100) vs Large (n > 1000)
- **Overlap patterns**: Sequential, Grid, Overlapping, Large ranges
- **Workloads**: Write-heavy (pure inserts), Read-heavy (many queries), Mixed (80/20)

**Key Question**: When does O(log n) beat O(n)?

**How to read**: Lower time is better. "Relative" compares to RStarTree baseline:

- **1.0x** = same speed as RStarTree
- **>1.0x** = slower than RStarTree (e.g., 2.0x = twice as slow)
- **<1.0x** = faster than RStarTree (e.g., 0.5x = twice as fast)

## Quick Comparison

**Speed relative to RStarTree** (lower is better):

| Scenario                     | lazypartitionedindex | mortonlinearscan | rstartree | RStarTree       |
| ---------------------------- | -------------------- | ---------------- | --------- | --------------- |
| Sparse (n < 100)             | 0.1x                 | 0.0x             | 0.1x      | 1.0x (baseline) |
| Large overlapping (n ≈ 1000) | 81.9x                | 6.6x             | 11.0x     | 1.0x (baseline) |
| Large sequential (n ≈ 2500)  | 108.0x               | 14.6x            | 7.7x      | 1.0x (baseline) |

**Key insights**:

- **Sparse data (n < 100)**: All implementations competitive, linear scan overhead minimal
- **Medium data (n ≈ 1000)**: R-tree starts to win, but linear scan still reasonable
- **Large data (n ≈ 2500)**: R-tree dramatically faster (20-28x), hierarchical indexing pays off

---

## Write-Heavy Workloads (Pure Inserts)

### column-operations (n=20)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.00ms | 0.00x    |
| rstartree            | 0.02ms | 0.02x    |
| lazypartitionedindex | 0.03ms | 0.03x    |

### diagonal-selection (n=30)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| lazypartitionedindex | 0.09ms | 0.09x    |
| rstartree            | 0.14ms | 0.14x    |

### large-grid (n=2500)

| Implementation       | Time     | Relative |
| -------------------- | -------- | -------- |
| rstartree            | 7.70ms   | 7.70x    |
| mortonlinearscan     | 15.80ms  | 15.80x   |
| lazypartitionedindex | 138.30ms | 138.30x  |

### large-overlapping (n=1250)

| Implementation       | Time    | Relative |
| -------------------- | ------- | -------- |
| mortonlinearscan     | 6.60ms  | 6.60x    |
| rstartree            | 11.00ms | 11.00x   |
| lazypartitionedindex | 81.90ms | 81.90x   |

### large-ranges (n=500)

| Implementation       | Time    | Relative |
| -------------------- | ------- | -------- |
| mortonlinearscan     | 1.10ms  | 1.10x    |
| rstartree            | 3.90ms  | 3.90x    |
| lazypartitionedindex | 11.80ms | 11.80x   |

### large-sequential (n=2500)

| Implementation       | Time     | Relative |
| -------------------- | -------- | -------- |
| rstartree            | 7.70ms   | 7.70x    |
| mortonlinearscan     | 14.60ms  | 14.60x   |
| lazypartitionedindex | 108.00ms | 108.00x  |

### merge-like-blocks (n=15)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.00ms | 0.00x    |
| rstartree            | 0.01ms | 0.01x    |
| lazypartitionedindex | 0.03ms | 0.03x    |

### row-operations (n=20)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.00ms | 0.00x    |
| rstartree            | 0.02ms | 0.02x    |
| lazypartitionedindex | 0.03ms | 0.03x    |

### single-cell-edits (n=50)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.07ms | 0.07x    |
| lazypartitionedindex | 0.10ms | 0.10x    |

### sparse-grid (n=60)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.09ms | 0.09x    |
| lazypartitionedindex | 0.13ms | 0.13x    |

### sparse-large-ranges (n=30)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.00ms | 0.00x    |
| rstartree            | 0.04ms | 0.04x    |
| lazypartitionedindex | 0.06ms | 0.06x    |

### sparse-overlapping (n=40)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| lazypartitionedindex | 0.17ms | 0.17x    |
| rstartree            | 0.28ms | 0.28x    |

### sparse-sequential (n=50)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.09ms | 0.09x    |
| lazypartitionedindex | 0.09ms | 0.09x    |

### striping-alternating-rows (n=25)

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.00ms | 0.00x    |
| rstartree            | 0.03ms | 0.03x    |
| lazypartitionedindex | 0.05ms | 0.05x    |

---

## Read-Heavy Workloads (Frequent Queries)

### column-operations (n=20) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.03ms | 0.03x    |
| lazypartitionedindex | 0.03ms | 0.03x    |

### diagonal-selection (n=30) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| lazypartitionedindex | 0.09ms | 0.09x    |
| rstartree            | 0.14ms | 0.14x    |

### large-grid (n=2500) + 100 queries

| Implementation       | Time     | Relative |
| -------------------- | -------- | -------- |
| rstartree            | 7.70ms   | 7.70x    |
| mortonlinearscan     | 15.90ms  | 15.90x   |
| lazypartitionedindex | 139.70ms | 139.70x  |

### large-overlapping (n=1250) + 100 queries

| Implementation       | Time    | Relative |
| -------------------- | ------- | -------- |
| mortonlinearscan     | 6.50ms  | 6.50x    |
| rstartree            | 11.20ms | 11.20x   |
| lazypartitionedindex | 82.80ms | 82.80x   |

### large-ranges (n=500) + 100 queries

| Implementation       | Time    | Relative |
| -------------------- | ------- | -------- |
| mortonlinearscan     | 1.10ms  | 1.10x    |
| rstartree            | 4.10ms  | 4.10x    |
| lazypartitionedindex | 11.90ms | 11.90x   |

### large-sequential (n=2500) + 100 queries

| Implementation       | Time     | Relative |
| -------------------- | -------- | -------- |
| rstartree            | 7.50ms   | 7.50x    |
| mortonlinearscan     | 14.60ms  | 14.60x   |
| lazypartitionedindex | 109.90ms | 109.90x  |

### merge-like-blocks (n=15) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.00ms | 0.00x    |
| rstartree            | 0.02ms | 0.02x    |
| lazypartitionedindex | 0.03ms | 0.03x    |

### row-operations (n=20) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.03ms | 0.03x    |
| lazypartitionedindex | 0.03ms | 0.03x    |

### single-cell-edits (n=50) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.07ms | 0.07x    |
| lazypartitionedindex | 0.11ms | 0.11x    |

### sparse-grid (n=60) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.02ms | 0.02x    |
| rstartree            | 0.10ms | 0.10x    |
| lazypartitionedindex | 0.14ms | 0.14x    |

### sparse-large-ranges (n=30) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.04ms | 0.04x    |
| lazypartitionedindex | 0.06ms | 0.06x    |

### sparse-overlapping (n=40) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.02ms | 0.02x    |
| lazypartitionedindex | 0.17ms | 0.17x    |
| rstartree            | 0.28ms | 0.28x    |

### sparse-sequential (n=50) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.09ms | 0.09x    |
| lazypartitionedindex | 0.09ms | 0.09x    |

### striping-alternating-rows (n=25) + 100 queries

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.04ms | 0.04x    |
| lazypartitionedindex | 0.06ms | 0.06x    |

---

## Mixed Workloads (80% Write / 20% Read)

### large-overlapping (n=500) 80/20

| Implementation       | Time    | Relative |
| -------------------- | ------- | -------- |
| mortonlinearscan     | 1.00ms  | 1.00x    |
| rstartree            | 4.00ms  | 4.00x    |
| lazypartitionedindex | 13.80ms | 13.80x   |

### large-sequential (n=1000) 80/20

| Implementation       | Time    | Relative |
| -------------------- | ------- | -------- |
| mortonlinearscan     | 2.70ms  | 2.70x    |
| rstartree            | 2.90ms  | 2.90x    |
| lazypartitionedindex | 22.40ms | 22.40x   |

### sparse-overlapping (n=40) 80/20

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| lazypartitionedindex | 0.17ms | 0.17x    |
| rstartree            | 0.28ms | 0.28x    |

### sparse-sequential (n=50) 80/20

| Implementation       | Time   | Relative |
| -------------------- | ------ | -------- |
| mortonlinearscan     | 0.01ms | 0.01x    |
| rstartree            | 0.09ms | 0.09x    |
| lazypartitionedindex | 0.09ms | 0.09x    |

---

## Query-Only Benchmarks (Construction Not Measured)

### large (n=5000, 10k queries)

| Implementation   | Time     | Relative |
| ---------------- | -------- | -------- |
| rstartree        | 48.00ms  | 48.00x   |
| mortonlinearscan | 136.90ms | 136.90x  |

### overlapping (n=1000, 10k queries)

| Implementation       | Time    | Relative |
| -------------------- | ------- | -------- |
| mortonlinearscan     | 5.20ms  | 5.20x    |
| rstartree            | 17.30ms | 17.30x   |
| lazypartitionedindex | 42.40ms | 42.40x   |

### sequential (n=1000, 10k queries)

| Implementation       | Time    | Relative |
| -------------------- | ------- | -------- |
| rstartree            | 3.10ms  | 3.10x    |
| mortonlinearscan     | 3.30ms  | 3.30x    |
| lazypartitionedindex | 25.40ms | 25.40x   |

---

## Summary

**What do these numbers actually mean?**

These benchmarks compare **O(n) linear scan** vs **O(log n) R-tree** for different data sizes and workload patterns.

**Sparse data (n < 100)**: Typical for individual spreadsheet properties (backgrounds, borders, etc.)
**Large data (n > 1000)**: Consolidated or heavy usage scenarios

**RStarTree is the baseline (1.0x)** - numbers > 1.0x are slower, < 1.0x are faster.

**lazypartitionedindex** (2.1KB minified):

- Fastest in 0/35 scenarios, slowest in 29/35 scenarios
- Average 1.00x vs RStarTree (same)

**mortonlinearscan** (2.3KB minified):

- Fastest in 29/35 scenarios, slowest in 1/35 scenarios
- Average 1.00x vs RStarTree (same)

**rstartree** (5.9KB minified):

- Fastest in 6/35 scenarios, slowest in 5/35 scenarios
- Average 1.00x vs RStarTree (same)

**System**: darwin aarch64
**Run**: `deno task bench:update` to regenerate
